<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Northwest Airport Transfers | Bolton & Wigan Taxis to Manchester & Liverpool Airports</title>
  <meta name="description" content="Reliable Bolton & Wigan airport transfers to Manchester (MAN) & Liverpool (LPL). Fixed prices, DBS-checked drivers, modern vehicles, corporate travel, child & booster seats."/>
  <link rel="icon" type="image/png" href="favicon.png"/>
  <link rel="canonical" href="https://northwest-airport-transfers.vercel.app/" />

  <!-- Open Graph -->
  <meta property="og:title" content="Northwest Airport Transfers | Bolton & Wigan to Manchester & Liverpool"/>
  <meta property="og:description" content="Trusted airport transfers with modern vehicles and fixed prices. Covering Bolton, Wigan, Manchester Airport & Liverpool Airport."/>
  <meta property="og:image" content="https://northwest-airport-transfers.vercel.app/mercedes-minibus.png"/>
  <meta property="og:type" content="website"/>

  <!-- Local Business Schema (lightweight) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "TaxiService",
    "name": "Northwest Airport Transfers",
    "url": "https://northwest-airport-transfers.vercel.app/",
    "areaServed": ["Bolton", "Wigan", "Manchester Airport", "Liverpool Airport"],
    "telephone": "+447520664620",
    "image": "https://northwest-airport-transfers.vercel.app/A_logo_for_Northwest_Airport_Transfers.png"
  }
  </script>

  <style>
    :root{
      --primary:#0A2239; --accent:#1E90FF; --light:#f6f7fb; --text:#333;
      --muted:#e9eef6; --ok:#2e7d32; --err:#b71c1c
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--light);color:var(--text);line-height:1.6}

    /* Header */
    header{background:var(--primary);padding:.9rem 1rem;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:1000}
    header img{height:58px}
    nav{display:flex;gap:1rem;flex-wrap:wrap}
    nav a{color:#fff;text-decoration:none;font-weight:600}
    nav a:hover{color:var(--accent)}
    @media (max-width:768px){
      header img{height:46px;margin-right:auto}
      nav{gap:.75rem;font-size:.92rem}
    }

    /* Hero */
    .hero{background:url('mercedes-minibus.png') center/cover no-repeat;color:#fff;text-align:center;padding:6.2rem 1.25rem;position:relative}
    .hero::after{content:"";position:absolute;inset:0;background:rgba(10,34,57,.60)}
    .hero h1,.hero p{position:relative;z-index:1;margin:0}
    .hero h1{font-size:2.5rem;margin-bottom:.6rem}
    .hero p{font-size:1.06rem}

    /* Sections */
    section{max-width:1100px;margin:0 auto;padding:2.6rem 1rem}
    h2{color:var(--primary);text-align:center;margin:0 0 1.1rem}

    /* Booking layout */
    #booking{position:relative}
    #booking::before{
      content:"";
      background:url('A_logo_for_Northwest_Airport_Transfers.png') center/240px no-repeat;
      opacity:.05; position:absolute; inset:0; z-index:0
    }
    .booking-container{display:flex;gap:1.6rem;align-items:stretch;flex-wrap:wrap;position:relative;z-index:1}
    .booking-left,.booking-right{flex:1 1 430px;min-width:300px;display:flex}
    .card{background:#fff;padding:1.25rem;border-radius:12px;box-shadow:0 6px 22px rgba(0,0,0,.08);display:flex;flex-direction:column;width:100%}
    .card h3{margin:.2rem 0 .8rem;color:var(--primary)}
    .why ul{list-style:none;margin:0;padding:0}
    .why li{margin:.5rem 0;padding-left:1.4rem;position:relative}
    .why li::before{content:"✅";position:absolute;left:0;top:0}

    /* Wizard progress */
    .steps{display:flex;justify-content:space-between;gap:.6rem;margin:.3rem 0 1rem}
    .step{flex:1;display:flex;align-items:center;gap:.6rem}
    .step .bubble{width:30px;height:30px;border-radius:50%;background:var(--muted);color:#0a2239;display:flex;align-items:center;justify-content:center;font-weight:700}
    .step.active .bubble{background:var(--accent);color:#fff}
    .step .label{font-weight:600;font-size:.92rem;color:#214361}
    .step.finished .label{opacity:.8}
    .step-connector{position:relative;top:15px;flex:0 0 10px;height:2px;background:linear-gradient(90deg,#cfd8ea,#bcd3ff);margin:0 .2rem}

    /* Form controls */
    form label{font-weight:600;display:block;margin-top:.75rem}
    input,select,textarea{width:100%;padding:.7rem;border:1px solid #cfd3d8;border-radius:8px;background:#fff}
    textarea{min-height:90px;resize:vertical}
    .form-step{display:none}
    .form-step.active{display:block;animation:fade .15s ease-in}
    @keyframes fade{from{opacity:.6;transform:translateY(4px)}to{opacity:1;transform:translateY(0)}}
    .form-grid{display:grid;grid-template-columns:1fr 1fr;gap:.85rem}
    .full{grid-column:1/-1}

    /* Price box */
    .price-box{margin-top:.8rem;padding:.9rem 1rem;border-radius:12px;background:#f0f7ff;border:1px solid #d6e6ff;display:none}
    .price-box strong{font-size:1.08rem}

    /* Nav + banners */
    .form-nav{margin-top:1rem;display:flex;gap:.6rem;justify-content:space-between}
    .btn{padding:.85rem 1.1rem;border:0;border-radius:10px;font-weight:700;cursor:pointer}
    .btn-primary{background:var(--accent);color:#fff}
    .btn-secondary{background:#e9eef6;color:#18324a}
    .btn[disabled]{opacity:.55;cursor:not-allowed}
    .banner{margin-top:.9rem;padding:.85rem 1rem;border-radius:10px;border:1px solid transparent;display:none}
    .banner.success{background:#e8f5e9;border-color:#c8e6c9;color:#1b5e20}
    .banner.error{background:#ffebee;border-color:#ffcdd2;color:#b71c1c}

    /* Gallery, Reviews, FAQ */
    .gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1rem}
    .gallery img{width:100%;border-radius:12px;box-shadow:0 4px 14px rgba(0,0,0,.08)}
    .reviews{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.1rem}
    .review{background:#fff;padding:1.1rem;border-radius:12px;box-shadow:0 4px 14px rgba(0,0,0,.08)}
    .stars{color:gold;font-size:1.05rem;margin-bottom:.35rem}
    .faq{background:#fff;padding:1.1rem;border-radius:12px;box-shadow:0 4px 14px rgba(0,0,0,.08);margin-bottom:.9rem}

    /* Footer */
    footer{background:var(--primary);color:#fff;text-align:center;padding:2rem 1rem;margin-top:2rem}
    footer .links{margin-top:.6rem}
    footer .links a{color:#dfe6ee;text-decoration:none;margin:0 .6rem}
    footer .links a:hover{color:var(--accent)}
    .call-btn{display:inline-block;background:var(--accent);color:#fff;padding:.8rem 1.1rem;border-radius:10px;text-decoration:none;font-weight:700;margin-top:.9rem}

    /* Floating buttons */
    .floating-buttons{position:fixed;bottom:10px;right:10px;display:flex;flex-direction:column;gap:10px;z-index:2000}
    .floating-buttons a{width:56px;height:56px;border-radius:50%;color:#fff;text-align:center;font-size:1.35rem;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px rgba(0,0,0,.28);text-decoration:none}
    .float-whatsapp{background:#25d366}
    .float-call{background:var(--accent)}
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <img src="A_logo_for_Northwest_Airport_Transfers.png" alt="Northwest Airport Transfers Logo"/>
    <nav>
      <a href="#booking">Book Transfer</a>
      <a href="#about">About Us</a>
      <a href="#services">Our Services</a>
      <a href="#corporate">Corporate Travel</a>
      <a href="#vehicles">Modern Vehicles</a>
      <a href="#gallery">Fleet Gallery</a>
      <a href="#reviews">Reviews</a>
      <a href="#faq">FAQ</a>
      <a href="tel:+447520664620" id="callUsLink">Call Us</a>
    </nav>
  </header>

  <!-- Hero -->
  <div class="hero">
    <h1>Bolton & Wigan Airport Transfers</h1>
    <p>Trusted • Reliable • Professional • Fixed Prices</p>
  </div>

  <!-- Booking -->
  <section id="booking">
    <div class="booking-container">
      <!-- Left -->
      <div class="booking-left">
        <div class="card why">
          <h3>Why Book With Us?</h3>
          <ul>
            <li>Fleet of modern, comfortable vehicles</li>
            <li>DBS-checked, professional drivers</li>
            <li>Corporate travel & business contracts welcomed</li>
            <li>Family friendly – child &amp; booster seats on request</li>
            <li>Flight tracking for delays</li>
            <li>Fixed prices with no hidden fees</li>
            <li>24/7 availability</li>
          </ul>
        </div>
      </div>

      <!-- Right: Wizard Form -->
      <div class="booking-right">
        <div class="card">
          <div style="text-align:center;margin-bottom:.6rem">
            <img src="A_logo_for_Northwest_Airport_Transfers.png" alt="Northwest Logo" style="max-width:120px;height:auto"/>
          </div>
          <h3 style="text-align:center">Book a transfer / Get a quote</h3>

          <!-- Step progress -->
          <div class="steps" id="stepsBar" aria-label="Booking progress">
            <div class="step active"><div class="bubble">1</div><div class="label">Pickup & Dropoff</div></div>
            <div class="step-connector"></div>
            <div class="step"><div class="bubble">2</div><div class="label">Journey & Pax</div></div>
            <div class="step-connector"></div>
            <div class="step"><div class="bubble">3</div><div class="label">Dates & Flights</div></div>
            <div class="step-connector"></div>
            <div class="step"><div class="bubble">4</div><div class="label">Extras</div></div>
            <div class="step-connector"></div>
            <div class="step"><div class="bubble">5</div><div class="label">Contact & Verify</div></div>
          </div>

          <!-- Live price -->
          <div id="priceBox" class="price-box" aria-live="polite">
            <strong>Estimated Price:</strong> — (enter a Bolton/Wigan pickup and Manchester/Liverpool Airport dropoff)
          </div>

          <form id="bookingForm" novalidate>
            <!-- STEP 1 -->
            <div class="form-step active" data-step="1">
              <div class="form-grid">
                <div class="full">
                  <label for="pickup">Pickup Location</label>
                  <input id="pickup" name="pickup" placeholder="Enter pickup address (Bolton or Wigan)" required/>
                </div>
                <div class="full">
                  <label for="dropoff">Dropoff (Airport)</label>
                  <select id="dropoff" name="dropoff" required>
                    <option value="">-- Select --</option>
                    <option value="manchester">Manchester Airport (MAN)</option>
                    <option value="liverpool">Liverpool John Lennon Airport (LPL)</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- STEP 2 -->
            <div class="form-step" data-step="2">
              <div class="form-grid">
                <div>
                  <label for="journeyType">Journey Type</label>
                  <select id="journeyType" name="journeyType" required>
                    <option value="oneway">One Way</option>
                    <option value="return">Return</option>
                  </select>
                </div>
                <div>
                  <label for="passengers">Passengers</label>
                  <select id="passengers" name="passengers">
                    <option>1</option><option>2</option><option>3</option><option>4+</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- STEP 3 -->
            <div class="form-step" data-step="3">
              <div class="form-grid">
                <div>
                  <label for="pickupDate">Pickup Date</label>
                  <input id="pickupDate" name="pickupDate" type="date" required/>
                </div>
                <div>
                  <label for="pickupTime">Pickup Time</label>
                  <input id="pickupTime" name="pickupTime" type="time" required/>
                </div>

                <div id="returnDateWrap" style="display:none">
                  <label for="returnDate">Return Date</label>
                  <input id="returnDate" name="returnDate" type="date"/>
                </div>
                <div id="returnTimeWrap" style="display:none">
                  <label for="returnTime">Return Time</label>
                  <input id="returnTime" name="returnTime" type="time"/>
                </div>

                <div>
                  <label for="outboundFlight">Flight Number (optional)</label>
                  <input id="outboundFlight" name="outboundFlight" placeholder="e.g. BA1395"/>
                </div>
                <div id="returnFlightWrap" style="display:none">
                  <label for="returnFlight">Return Flight Number (required)</label>
                  <input id="returnFlight" name="returnFlight" placeholder="e.g. EZY2023"/>
                </div>
              </div>
            </div>

            <!-- STEP 4 -->
            <div class="form-step" data-step="4">
              <div class="form-grid">
                <div class="full">
                  <label>Extras</label>
                  <div style="display:flex;gap:1rem;flex-wrap:wrap">
                    <label><input type="checkbox" id="childSeat" name="childSeat"> Child seat required</label>
                    <label><input type="checkbox" id="boosterSeat" name="boosterSeat"> Booster seat required</label>
                  </div>
                </div>
                <div class="full">
                  <label for="notes">Notes (optional)</label>
                  <textarea id="notes" name="notes" placeholder="Any special requests…"></textarea>
                </div>
              </div>
            </div>

            <!-- STEP 5 -->
            <div class="form-step" data-step="5">
              <div class="form-grid">
                <div class="full">
                  <label for="name">Full Name</label>
                  <input id="name" name="name" autocomplete="name" required/>
                </div>
                <div class="full">
                  <label for="email">Email</label>
                  <input id="email" name="email" type="email" autocomplete="email" required/>
                </div>
                <div class="full">
                  <label for="phone">Phone (optional)</label>
                  <input id="phone" name="phone" type="tel" autocomplete="tel"/>
                </div>
                <div class="full" style="display:flex;justify-content:center;margin-top:.5rem">
                  <div class="g-recaptcha" data-sitekey="6LcK2NorAAAAAEqyQ6rUev8DxVSKbA7Yy9_pXj3l"></div>
                </div>
              </div>
            </div>

            <div class="form-nav">
              <button type="button" class="btn btn-secondary" id="prevBtn" disabled>Previous</button>
              <button type="button" class="btn btn-primary" id="nextBtn">Next</button>
            </div>
            <div id="formBanner" class="banner" role="status" aria-live="polite"></div>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- About -->
  <section id="about">
    <h2>About Northwest Airport Transfers</h2>
    <p>Northwest Airport Transfers provides reliable <strong>airport taxis from Bolton and Wigan to Manchester Airport (MAN)</strong> and <strong>Liverpool John Lennon Airport (LPL)</strong>. We specialise in friendly, affordable, and professional transfers for families and business travellers.</p>
    <p>All of our drivers are <strong>DBS checked</strong> with excellent local knowledge. Our modern saloons, MPVs and minibuses ensure a smooth journey every time.</p>
  </section>

  <!-- Services -->
  <section id="services">
    <h2>Our Airport Transfer Services</h2>
    <ul>
      <li><strong>Bolton to Manchester Airport Taxi</strong> – fixed-price transfers with flight tracking.</li>
      <li><strong>Wigan to Manchester Airport Transfers</strong> – on-time service 24/7.</li>
      <li><strong>Bolton to Liverpool Airport Taxi</strong> – comfortable journeys from Bolton to LPL.</li>
      <li><strong>Wigan to Liverpool Airport Transfers</strong> – affordable taxis and minibuses.</li>
      <li>Modern fleet: saloon cars, executive cars, and 8-seat minibuses.</li>
      <li>DBS-checked, professional drivers with excellent local knowledge.</li>
      <li>Available <strong>24/7 with fixed prices</strong> and no hidden fees.</li>
      <li>Child & booster seats provided on request (no extra charge).</li>
    </ul>
  </section>

  <!-- Corporate -->
  <section id="corporate">
    <h2>Corporate Travel</h2>
    <p>We provide reliable <strong>corporate airport transfers</strong> for businesses across Bolton, Wigan and Greater Manchester. From client pickups to executive travel, our punctual drivers and clean vehicles keep your schedules running smoothly.</p>
  </section>

  <!-- Vehicles -->
  <section id="vehicles">
    <h2>Our Modern Vehicles</h2>
    <p>Our fleet includes <strong>modern saloons, executive cars, MPVs, and 8-seat minibuses</strong>, maintained to high standards for safety and comfort. Luggage capacity and child/booster seats are available on request.</p>
  </section>

  <!-- Gallery -->
  <section id="gallery">
    <h2>Fleet Gallery</h2>
    <div class="gallery">
      <img src="mercedes-minibus.png" alt="Mercedes Minibus for airport transfers"/>
      <img src="saloon-car.png" alt="Saloon car for Manchester Airport taxi"/>
      <img src="mpv.png" alt="MPV vehicle for Liverpool Airport transfers"/>
    </div>
  </section>

  <!-- Reviews -->
  <section id="reviews">
    <h2>Customer Reviews</h2>
    <div class="reviews">
      <div class="review"><div class="stars">⭐⭐⭐⭐⭐</div>“Excellent service, always on time and very professional.”<strong>– Sarah J.</strong></div>
      <div class="review"><div class="stars">⭐⭐⭐⭐⭐</div>“Friendly driver, clean car, and smooth ride to the airport!”<strong>– James P.</strong></div>
      <div class="review"><div class="stars">⭐⭐⭐⭐⭐</div>“The best transfer company I've used in years.”<strong>– Emma R.</strong></div>
    </div>
  </section>

  <!-- FAQ (longer set as before) -->
  <section id="faq">
    <h2>Frequently Asked Questions</h2>
    <div class="faq"><h3>How much is a taxi from Bolton to Manchester Airport?</h3><p>Our fixed-price <strong>Bolton to Manchester Airport taxi service</strong> is competitively priced. Contact us on WhatsApp or call for the latest quote.</p></div>
    <div class="faq"><h3>Do you provide airport transfers from Wigan?</h3><p>Yes, we offer <strong>Wigan airport transfers</strong> to both Manchester and Liverpool airports. Whether you’re travelling alone or in a group, we have vehicles to suit your needs.</p></div>
    <div class="faq"><h3>Are your drivers DBS checked?</h3><p>All of our professional drivers are fully <strong>DBS checked</strong> and have excellent local knowledge of Bolton, Wigan, and the North West.</p></div>
    <div class="faq"><h3>Do you offer return journeys?</h3><p>Yes, you can book <strong>one-way or return airport transfers</strong>. Return bookings can be arranged at the time of booking for peace of mind.</p></div>
    <div class="faq"><h3>Do you provide child or booster seats?</h3><p>Yes, <strong>child and booster seats</strong> are available on request at no extra charge. Please select the option in the booking form when making your reservation.</p></div>
  </section>

  <!-- Footer -->
  <footer>
    <div style="display:flex;flex-direction:column;align-items:center;gap:.6rem">
      <img src="A_logo_for_Northwest_Airport_Transfers.png" alt="Northwest Airport Transfers Logo" style="height:60px"/>
      <p>&copy; 2025 Northwest Airport Transfers • All Rights Reserved</p>
      <div class="links">
        <a href="#booking">Book</a> | <a href="#about">About</a> | <a href="#services">Services</a> |
        <a href="#gallery">Fleet</a> | <a href="#reviews">Reviews</a> | <a href="#faq">FAQ</a>
      </div>
      <a class="call-btn" href="tel:+447520664620">📞 Call Us Now</a>
    </div>
  </footer>

  <!-- Floating WhatsApp & Call -->
  <div class="floating-buttons" aria-label="Quick Contact">
    <a href="https://wa.me/447520664620" target="_blank" rel="noopener" class="float-whatsapp" aria-label="Chat on WhatsApp">💬</a>
    <a href="tel:+447520664620" class="float-call" aria-label="Call us by phone">📞</a>
  </div>

  <!-- reCAPTCHA + Google Maps Places -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCIVJYCGVnJ35KCUtQt7GeINx8CaaB8x6o&libraries=places" async defer></script>

  <script>
    // ====== CONFIG: replace with your Apps Script web app URL when ready ======
    const GAS_URL = "https://script.google.com/macros/s/REPLACE_WITH_YOUR_WEB_APP_ID/exec";

    // ====== Google Places Autocomplete (UK) ======
    function initPlaces() {
      const opts = { componentRestrictions: { country: "uk" } };
      if (window.google && google.maps && google.maps.places) {
        new google.maps.places.Autocomplete(document.getElementById("pickup"), opts);
      }
    }
    window.addEventListener('load', () => setTimeout(initPlaces, 300));

    // ====== Wizard handling ======
    const stepsEls = Array.from(document.querySelectorAll('.form-step'));
    const stepMarkers = Array.from(document.querySelectorAll('.steps .step'));
    const nextBtn = document.getElementById('nextBtn');
    const prevBtn = document.getElementById('prevBtn');
    const banner = document.getElementById('formBanner');

    const journeyEl = document.getElementById('journeyType');
    const passengersEl = document.getElementById('passengers');
    const pickupEl = document.getElementById('pickup');
    const dropoffEl = document.getElementById('dropoff');

    const returnBlocks = ['returnDateWrap','returnTimeWrap','returnFlightWrap'].map(id => document.getElementById(id));
    const returnFlightEl = document.getElementById('returnFlight');

    const priceBox = document.getElementById('priceBox');
    let currentStep = 0;

    function showStep(i){
      stepsEls.forEach((s,idx)=> s.classList.toggle('active', idx===i));
      stepMarkers.forEach((m,idx)=>{
        m.classList.toggle('active', idx===i);
        m.classList.toggle('finished', idx < i);
      });
      prevBtn.disabled = (i===0);
      nextBtn.textContent = (i===stepsEls.length-1) ? 'Submit Booking' : 'Next';
      banner.style.display='none';
      window.scrollTo({top: document.getElementById('booking').offsetTop - 20, behavior:'smooth'});
    }

    function toggleReturn(){
      const isRet = journeyEl.value === 'return';
      returnBlocks.forEach(b => b.style.display = isRet ? 'block' : 'none');
      // Make return flight required only if visible
      if (isRet) { returnFlightEl.setAttribute('required','required'); }
      else { returnFlightEl.removeAttribute('required'); }
      updatePrice();
    }

    // ====== Price rules ======
    // Bolton -> Manchester one-way: 1–2 = £40, 3 = £45, 4+ = £60
    // Return = double one-way
    // Wigan pickup: +£5 (detected from pickup text)
    // Liverpool Airport: +£10
    function normalise(str){ return (str||'').toLowerCase(); }
    function detectTown(pickup){
      const p = normalise(pickup);
      if(p.includes('wigan')) return 'wigan';
      if(p.includes('bolton')) return 'bolton';
      return null;
    }
    function baseOneWay(passengers){
      const p = (passengers === '4+') ? 4 : parseInt(passengers||'1',10);
      if(p<=2) return 40;
      if(p===3) return 45;
      return 60; // 4+
    }
    function calculatePrice(){
      const town = detectTown(pickupEl.value);
      const airport = dropoffEl.value; // manchester | liverpool
      const jt = journeyEl.value;
      const pax = passengersEl.value;

      if(!town || !airport || !jt || !pax) return null;

      let price = baseOneWay(pax);
      if(town==='wigan') price += 5;
      if(airport==='liverpool') price += 10;
      if(jt==='return') price *= 2;

      return Math.round(price);
    }
    function updatePrice(){
      const price = calculatePrice();
      if(price!=null){
        priceBox.innerHTML = "<strong>Estimated Price:</strong> £" + price;
        priceBox.style.display = 'block';
      }else{
        priceBox.innerHTML = "<strong>Estimated Price:</strong> — (enter a Bolton/Wigan pickup and Manchester/Liverpool Airport dropoff)";
        priceBox.style.display = 'block';
      }
    }

    // Events to update UI
    journeyEl.addEventListener('change', toggleReturn);
    passengersEl.addEventListener('change', updatePrice);
    pickupEl.addEventListener('input', updatePrice);
    dropoffEl.addEventListener('change', updatePrice);
    toggleReturn(); // init

    function stepValid(){
      // required fields only within active step
      const req = stepsEls[currentStep].querySelectorAll('[required]');
      for (const el of req){ if(!el.value.trim()) return false; }
      // final step: reCAPTCHA check
      if (currentStep === stepsEls.length-1){
        if (grecaptcha.getResponse() === "") return false;
      }
      // if return, ensure return fields present
      if (journeyEl.value === 'return'){
        const need = ['returnDate','returnTime','returnFlight'];
        for (const id of need){
          const el = document.getElementById(id);
          if (el && (el.offsetParent !== null) && !el.value.trim()) return false;
        }
      }
      return true;
    }

    nextBtn.addEventListener('click', async ()=>{
      if(!stepValid()){
        banner.textContent = (currentStep === stepsEls.length-1 && grecaptcha.getResponse()==="")
          ? "Please complete the reCAPTCHA."
          : "Please complete the required fields on this step.";
        banner.className = 'banner error'; banner.style.display='block';
        return;
      }
      if (currentStep < stepsEls.length-1){
        currentStep++; showStep(currentStep);
      } else {
        await submitBooking();
      }
    });
    prevBtn.addEventListener('click', ()=>{ if(currentStep>0){ currentStep--; showStep(currentStep); }});
    showStep(currentStep);
    updatePrice();

    // ====== Submit to Apps Script ======
    function val(id){ return (document.getElementById(id)?.value || '').trim(); }
    async function submitBooking(){
      nextBtn.disabled = true; prevBtn.disabled = true;

      const quotedPrice = calculatePrice();
      const payload = {
        name: val('name'),
        email: val('email'),
        phone: val('phone'),
        journeyType: journeyEl.value,
        passengers: passengersEl.value,
        pickup: val('pickup'),
        dropoff: (dropoffEl.options[dropoffEl.selectedIndex]?.text || '').trim(),
        pickupDate: val('pickupDate'),
        pickupTime: val('pickupTime'),
        returnDate: val('returnDate'),
        returnTime: val('returnTime'),
        outboundFlight: val('outboundFlight'),
        returnFlight: val('returnFlight'),
        childSeat: document.getElementById('childSeat').checked ? 'Yes' : 'No',
        boosterSeat: document.getElementById('boosterSeat').checked ? 'Yes' : 'No',
        notes: val('notes'),
        recaptchaToken: grecaptcha.getResponse(),
        quotedPrice: quotedPrice
      };

      if (!GAS_URL || GAS_URL.includes('REPLACE_WITH_YOUR_WEB_APP_ID')){
        banner.textContent = "Form is ready. Add your Google Apps Script Web App URL to GAS_URL first.";
        banner.className = 'banner error'; banner.style.display='block';
        nextBtn.disabled = false; prevBtn.disabled = false; return;
      }

      try{
        const res = await fetch(GAS_URL, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(payload) });
        const json = await res.json().catch(()=> ({}));
        if (res.ok && (json.status==='ok' || json.status==='success' || json.result==='success')){
          banner.textContent = "✅ Thank you! Your booking has been received. A confirmation email has been sent.";
          banner.className = 'banner success'; banner.style.display='block';
          document.getElementById('bookingForm').reset();
          grecaptcha.reset();
          currentStep = 0; toggleReturn(); showStep(currentStep); updatePrice();
        } else {
          throw new Error(json.error || json.message || 'Unknown error');
        }
      }catch(err){
        console.error(err);
        banner.textContent = "❌ Sorry, something went wrong sending your booking. Please try again or call us.";
        banner.className = 'banner error'; banner.style.display='block';
      }finally{
        nextBtn.disabled = false; prevBtn.disabled = false;
      }
    }

    // Ensure Call Us works on desktop & mobile
    document.getElementById('callUsLink').setAttribute('href','tel:+447520664620');
  </script>
</body>
</html>
